# PrizesRestApi
Solution of YaProfi task3
|     |     |     |     |
| --- | --- | --- | --- |
| **Метод** | **Endpoint** | **Пояснение** | **Описание** |
| POST | /promo | В запросе передается body в формате JSON:<br><br>{  <br>   “name”: “string”,  <br>   “description”: “string”,  <br>}<br><br>В ответе ожидается идентификатор созданной промоакции, например, **1** | Добавление промоакции с возможностью указания названия (name), описания (description) <br><br>Описание – **не** обязательный параметр, название – обязательный |
| GET | /promo | В ответе ожидается полный список промоакций, **без** указания участников и призов в формате JSON:<br><br>\[  <br>    {  <br>       “id”: number,  <br>       “name”: “string”,  <br>       “description”: “string”  <br>     },  <br>    …  <br>\] | Получение краткой информации (**без** информации об участниках и призах) обо всех промоакциях |
| GET | /promo/{id} | ID промоакции, полную информацию о которой необходимо получить, передается в виде path-параметра, например: **/promo/1**<br><br>В ответе ожидается полная информация о промоакции, **с** указанием участников и призов в формате JSON:<br><br>{  <br>  “id”: number,  <br>  “name”: “string”,  <br>  “description”: “string”,  <br>  “prizes”: \[  <br>    {  <br>      “id”: number,  <br>      “description”: “string”  <br>    },  <br>    …  <br>  \],    <br>“participants”: \[  <br>     {  <br>       “id”: number,  <br>       “name”: “string”  <br>     },  <br>     …  <br>   \]  <br>} | Получение полной информации (**с** информацией об участниках и призах) о промоакции по идентификатору |
| PUT | /promo/{id} | ID редактируемой промоакции, передается как path-параметр, например: **/promo/1**<br><br>Редактируемые свойства передаются в body запроса в формате JSON:<br><br>{  <br>     “name”: “string”,  <br>     “description”: “string”  <br>} | Редактирование промо-акции по идентификатору промо-акции<br><br>Редактировать можно только свойства name, description<br><br>Удалить имя таким образом нельзя, описание – можно |
| DELETE | /promo/{id} | ID удаляемой промоакции передается как path-параметр, например: **/promo/1** | Удаление промоакции по идентификатору |
| POST | /promo/{id}/participant | ID промоакции, в которую добавляется участник, передается как path-параметр: например: **/promo/1/participant**<br><br>В запросе передается body с информацией о добавляемом участнике в формате JSON:<br><br>{  <br>  “name”: “string”  <br>} <br><br>В ответе ожидается идентификатор добавленного участника, например: **1337** | Добавление участника в промоакцию по идентификатору промоакции |
| DELETE | /promo/{promoId}/participant/{participantId} | ID редактируемой промоакции и ID удаляемого участника передаются как path-параметры, например:<br><br>**/promo/1/participant/1337** | Удаление участника из промоакции по идентификаторам промоакции и участника |
| POST | /promo/{id}/prize | ID промоакции, в которую добавляется приз, передается как path-параметр: например: **/promo/1/prize**<br><br>В запросе передается body с информацией о добавляемом призе в формате JSON:<br><br>{  <br>  “description”: “string”  <br>}<br><br>В ответе ожидается идентификатор добавленного приза, например: **321** | Добавление приза в промоакцию по идентификатору промоакции |
| DELETE | /promo/{promoId}/prize/{prizeId} | ID редактируемой промоакции и ID удаляемого приза передаются как path-параметры, например:<br><br>**/promo/1/participant/1337** | Удаление приза из промоакции по идентификаторам промоакции и приза |
| POST | /promo/{id}/raffle | ID промоакции передается в виде path-параметра, например: <br><br>**/promo/1/raffle**<br><br>В ответе ожидается список объектов типа “Результат проведения розыгрыша” в формате JSON: <br><br>\[  <br>  {  <br>    “winner”: {  <br>      “id”: number,  <br>      “name”: “string”  <br>    },  <br>    “prize”: {  <br>      “id”: number,  <br>      “description”: “string”  <br>    }  <br>  },  <br>  …  <br>\]<br><br>В случае, если проведение розыгрыша в данный момент невозможно – следует вернуть код ответа 409 (Conflict) | Проведение розыгрыша призов в промоакции по идентификатору промоакции<br><br>Проведение розыгрыша возможно только в том случае, когда количество участников и призов в промоакции совпадает (т.е., например, если в промоакции в текущий момент 2 участника и 2 приза или 3 участника и 3 приза и т.д.) |

Соответствующие методы описаны в следующих функциях:

create_promo send_promos  send_promo  change_promo delete_promo  add_participant  delete_participant  add_prize delete_prize  raffle 

Сервер достпен по адресу http://127.0.0.1:8080/
